{"version":3,"file":"public/javascripts/app.js","sources":["app/application.js","app/initialize.js","app/jQueryCreditCardValidator.js","app/lib/router.js","app/lib/view_helper.js","app/models/collection.js","app/models/model.js","app/views/anw.ui.pin.js","app/views/anw.ui.step.js","app/views/home_view.js","app/views/register_view.js","app/views/templates/completed.hbs","app/views/templates/home.hbs","app/views/templates/register.hbs","app/views/templates/safekey.hbs","app/views/view.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvWA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArLA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;;A,CCAA;;AACA;AADA;;A,CCAA;;AACA;AACA;AACA;AACA;AAJA;;A,CCAA;;AACA;AACA;AACA;AACA;AAJA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjDA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvEA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;;A","sourcesContent":["// Application bootstrapper.\nApplication = {\n    initialize: function() {\n        \n        var HomeView = require('views/home_view')\n          , RegisterView = require('views/register_view')\n          , Router   = require('lib/router')\n        \n        this.homeView = new HomeView()\n        this.registerView = new RegisterView()\n        this.router   = new Router()\n        \n        if (typeof Object.freeze === 'function') Object.freeze(this)\n        \n    }\n}\n\nmodule.exports = Application\n","var initializers = {};\n\ninitializers['completed'] = function () {\n\t$('.button.return').on('click', function (e) {\n\t\te.preventDefault();\n\t\t$('body').addClass('confirmed');\n\t\twindow.hideNetworkWallet();\n\t\treturn false;\n\t});\n\n\t$('.edit-card').on('click', function (e) {\n\t\te.preventDefault();\n\t\twindow.goToPage('register', 'link-to-card');\n\t\treturn false;\n\t});\n\n\t$('.edit-address').on('click', function (e) {\n\t\te.preventDefault();\n\t\twindow.goToPage('register', 'add-shipping-details');\n\t\treturn false;\n\t});\n};\n\ninitializers['register'] = function () {\n\tshowNetworkWallet();\n\n\tfunction updatePasswordValidation(value, strict) {\n\t\tvar validated = {};\n\n\t\tvalidated.hasDigit = /[0-9]+/.test(value);\n\t\tvalidated.hasLetter = /[A-z]+/.test(value);\n\t\tvalidated.hasSpaces = /\\s+/.test(value);\n\t\tvalidated.sameAsEmail = (value === $('#email').val());\n\t\tvalidated.isLengthOk = /.{8,20}/.test(value);\n\n\t\tconsole.log(validated);\n\n\t\tvar $info = $('.password-info');\n\n\n\t\t$('.no-spaces', $info).removeClass('ok ko').addClass(function() {\n\t\t\treturn !validated.hasSpaces? 'ok' : 'ko';\n\t\t});\n\n\t\t$('.different-from-email', $info).removeClass('ok ko').addClass(function() {\n\t\t\treturn !validated.sameAsEmail? 'ok' : 'ko';\n\t\t});\n\n\t\t$('.characters-length', $info).removeClass('ok ko').addClass(function() {\n\t\t\treturn validated.isLengthOk? 'ok' : 'ko';\n\t\t});\n\n\t\t$('.letter-number', $info).removeClass('ok ko').addClass(function() {\n\t\t\treturn (validated.hasDigit && validated.hasLetter)? 'ok' : 'ko';\n\t\t});\n\t};\n\n\t$('#create-password').on('keyup', function () {\n\t\tvar value = $(this).val();\n\t\tupdatePasswordValidation(value);\n\t});\n\n\t$('#create-password').on('focus', function () {\n\t\t$('.password-info').addClass('validating');\n\t});\n\n\t$('#create-password').on('blur', function () {\n\t\t$('.password-info').removeClass('validating');\n\t});\n\n\n\tvar currentCardName = \"\";\n\t$('.step.link-to-card .card-number').validateCreditCard(function (result) {\n\t\tvar el = $('fieldset.credit-card-container')\n\t\tif (result.card_type) {\n\t\t\tcurrentCardName = result.card_type.name;\n\t\t\tel.addClass(currentCardName);\n\t\t} else {\n\t\t\tel.removeClass(currentCardName);\n\t\t}\n\t});\n\n\t$('.step.link-to-card .expiry-date').on('keyup', function (e) {\n\t\tvar $this = $(this);\n\t\tconsole.log( e.which);\n\t\tif ($this.val().length == 2 && e.which !== 46 && e.which !== 8) {\n\t\t\t$this.val($this.val() + ' / ');\n\t\t}\n\t});\n\n\t$('.security-code-info').on('click', function (e) {\n\t\te.preventDefault();\n\t\t$('body').toggleClass('security-info');\n\t\treturn false;\n\t});\n\n\t$('.security-info-modal .close').on('click', function (e) {\n\t\te.preventDefault();\n\t\t$('body').removeClass('security-info');\n\t\treturn false;\n\t});\n\n\tvar countries = ['Afghanistan', 'Åland Islands', 'Albania', 'Algeria', 'American Samoa', 'Andorra', 'Angola', 'Anguilla', 'Antarctica', 'Antigua And Barbuda', 'Argentina', 'Armenia', 'Aruba', 'Australia', 'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bermuda', 'Bhutan', 'Bolivia', 'Bonaire, Sint Eustatius and Saba', 'Bosnia and Herzegovina', 'Botswana', 'Bouvet Island', 'Brazil', 'British Indian Ocean Territory', 'Brunei Darussalam', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cambodia', 'Cameroon', 'Canada', 'Cape Verde', 'Cayman Islands', 'Central African Republic', 'Chad', 'Chile', 'China', 'Christmas Island', 'Cocos (Keeling) Islands', 'Colombia', 'Comoros', 'Congo', 'Congo, the Democratic Republic of the', 'Cook Islands', 'Costa Rica', 'Côte d\\'Ivoire', 'Croatia', 'Cuba', 'Curaçao', 'Cyprus', 'Czech Republic', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Ethiopia', 'Falkland Islands (Malvinas)', 'Faroe Islands', 'Fiji', 'Finland', 'France', 'French Guiana', 'French Polynesia', 'French Southern Territories', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Gibraltar', 'Greece', 'Greenland', 'Grenada', 'Guadeloupe', 'Guam', 'Guatemala', 'Guernsey', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Heard Island and McDonald Islands', 'Holy See (Vatican City State)', 'Honduras', 'Hong Kong', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran, Islamic Republic of', 'Iraq', 'Ireland', 'Isle of Man', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jersey', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'Korea, Democratic People\\'s Republic of', 'Korea, Republic of', 'Kuwait', 'Kyrgyzstan', 'Lao People\\'s Democratic Republic', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libyan Arab Jamahiriya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Macao', 'Macedonia, The Former Yugoslav Republic Of', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Martinique', 'Mauritania', 'Mauritius', 'Mayotte', 'Mexico', 'Micronesia, Federated States of', 'Moldova, Republic of', 'Monaco', 'Mongolia', 'Montenegro', 'Montserrat', 'Morocco', 'Mozambique', 'Myanmar', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Caledonia', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Niue', 'Norfolk Island', 'Northern Mariana Islands', 'Norway', 'Oman', 'Pakistan', 'Palau', 'Palestinian Territory, Occupied', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Pitcairn', 'Poland', 'Portugal', 'Puerto Rico', 'Qatar', 'Réunion', 'Romania', 'Russian Federation', 'Rwanda', 'Saint Barthélemy', 'Saint Helena', 'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Martin (French Part)', 'Saint Pierre and Miquelon', 'Saint Vincent and the Grenadines', 'Samoa', 'San Marino', 'Sao Tome and Principe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Sint Maarten (Dutch Part)', 'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa', 'South Georgia and the South Sandwich Islands', 'South Sudan', 'Spain', 'Sri Lanka', 'Sudan', 'Suriname', 'Svalbard and Jan Mayen', 'Swaziland', 'Sweden', 'Switzerland', 'Syrian Arab Republic', 'Taiwan, Province of China', 'Tajikistan', 'Tanzania, United Republic of', 'Thailand', 'Timor-Leste', 'Togo', 'Tokelau', 'Tonga', 'Trinidad and Tobago', 'Tunisia', 'Turkey', 'Turkmenistan', 'Turks and Caicos Islands', 'Tuvalu', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'United States', 'United States Minor Outlying Islands', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Venezuela', 'Vietnam', 'Virgin Islands, British', 'Virgin Islands, U.S.', 'Wallis and Futuna', 'Western Sahara', 'Yemen', 'Zambia', 'Zimbabwe'];\n\n\t$('.country').autocomplete({\n\t\tsource: countries,\n\t\tminLength: 2,\n\t\tselect: function (event, ui) {\n\t\t\tvar $step = $(this).parents('.step');\n\t\t\t$step.removeClass('uk other-country');\n\n\t\t\tif (ui.item.value === \"United Kingdom\") {\n\t\t\t\t$step.addClass('uk');\n\t\t\t} else {\n\t\t\t\t$step.addClass('other-country');\t\n\t\t\t}\n\t\t}\n\t});\n\n\t$('.postcode-search').on('click', function () {\n\t\tvar $step = $(this).parents('.step');\n\t\t$('.address-1', $step).val('Flat 5, 28 Hertford Road');\n\t\t$('.address-2', $step).val('');\n\t\t$('.city', $step).val('London');\n\t\t$('.state', $step).val('London');\n\t\t$('.postcode', $step).val('N1 5OT');\n\n\t\tstepController.step3.validate();\n\t\tstepController.step4.validate();\n\n\t\t$step.removeClass('uk').addClass('other-country');\n\t});\n\n\tfunction updateShippingAddress() {\n\t\tvar $step = $('.step.add-shipping-details');\n\t\tvar useBillingAddress = $(\"input[name=use-billing-address]\").is(':checked');\n\t\tif (!useBillingAddress) {\n\t\t\t$step.removeClass('disabled');\n\t\t\t$('input', $step).val('').removeAttr('disabled');\n\t\t} else {\n\t\t\t$step.addClass('disabled');\n\t\t\tvar $billingInputs = $(\".step.add-billing-details input\"); \n\t\t\t$billingInputs.each(function() {\n\t\t\t\tvar $this = $(this);\n\t\t\t\tvar name = $this.attr('id');\n\t\t\t\tvar value = $this.val();\n\t\t\t\t$('#' + name, $step).val(value).attr(\"disabled\", \"disabled\");\n\t\t\t});\n\t\t}\n\n\t\tstepController.step4.validate();\n\t};\n\n\t$(\"input[name=use-billing-address]\").on('click', function () {\n\t\tupdateShippingAddress();\n\t});\n\n\tvar stepController = {\n\t\tcurrentStep: null\n\t};\n\n\tstepController.step1 = new ANW.UI.Step($('.step.new-account'));\n\tstepController.step2 = new ANW.UI.Step($('.step.link-to-card'));\n\tstepController.step3 = new ANW.UI.Step($('.step.add-billing-details'));\n\tstepController.step4 = new ANW.UI.Step($('.step.add-shipping-details'));\n\n\tvar onActivate = function onActivate (step) {\n\t\tstepController.currentStep = step;\n\t}\n\n\tstepController.step1.options.onActivate = onActivate;\n\tstepController.step2.options.onActivate = onActivate;\n\tstepController.step3.options.onActivate = onActivate;\n\tstepController.step4.options.onActivate = onActivate;\n\n\tstepController.step1.options.onConfirm = function () { stepController.step2.activate(); };\n\tstepController.step2.options.onConfirm = function () { stepController.step3.activate(); };\n\tstepController.step3.options.onConfirm = function () {\n\t\tupdateShippingAddress();\n\t\tstepController.step4.activate();\n\t};\n\tstepController.step4.options.onConfirm = function () { window.goToPage('safekey')};\n\n\tstepController.step1.options.onBack = function () { window.goToPage('home'); };\n\tstepController.step2.options.onBack = function () { stepController.step1.activate(); };\n\tstepController.step3.options.onBack = function () { stepController.step2.activate(); };\n\tstepController.step4.options.onBack = function () {\tstepController.step3.activate(); };\n\n\tvar onClickEdit = function onClickEdit(step) {\n\t\tstepController.currentStep.deactivate();\n\t\tsetTimeout(function () {\n\t\t\tstep.activate();\n\t\t}, 640);\n\t}\n\n\tstepController.step1.options.onClickEdit = onClickEdit;\n\tstepController.step2.options.onClickEdit = onClickEdit;\n\tstepController.step3.options.onClickEdit = onClickEdit;\n\tstepController.step4.options.onClickEdit = onClickEdit;\n\n\n};\n\ninitializers['home'] = function () {\n\tfunction updatePinContainer() {\n\t\tvar $pinContainer = $('.ui-pin');\n\t\tvar $pins = $('div', $pinContainer);\n\n\t\tvar w = $pinContainer.width() - 30;\n\t\tvar pinW = Math.round(w/4);\n\t\tvar lastPinW = pinW + (w - pinW*4);\n\t\t$pins.width(pinW);\n\t\t$pins.eq(3).width(lastPinW);\n\t}\t\n\n\t$(window).resize(function () {\n\t\tupdatePinContainer();\n\t});\n\n\tvar pin = new ANW.UI.Pin($('.ui-pin'));\n\n\tupdatePinContainer();\n\n\tvar swipe = Swipe(document.getElementById('carousel'), {\n\t\t//auto: 4000,\n\t\tcontinuous: true,\n\t\tcallback: function(i) {\n\t\t\t$('.carousel-navigation li').removeClass('active')\n\t\t\t.eq(i).addClass('active');\n\t\t}\n\t});\n\n\t$('.trigger').on('click', function () {\n\t\tshowNetworkWallet();\n\t});\n\n\t$('.register').on('click', function (e) {\n\t\te.preventDefault();\n\t\twindow.goToPage('register');\n\t\treturn false;\n\t});\n};\n\ninitializers['safekey'] = function () {\n\tvar timeout = setTimeout(function () {\n\t\twindow.goToPage('completed');\n\t\tclearTimeout(timeout);\n\t}, 4000);\n\n\tvar opts = {\n\t  lines: 12, // The number of lines to draw\n\t  length: 6, // The length of each line\n\t  width: 3, // The line thickness\n\t  radius: 7, // The radius of the inner circle\n\t  corners: 1, // Corner roundness (0..1)\n\t  rotate: 0, // The rotation offset\n\t  direction: 1, // 1: clockwise, -1: counterclockwise\n\t  color: '#000', // #rgb or #rrggbb or array of colors\n\t  speed: 1, // Rounds per second\n\t  trail: 60, // Afterglow percentage\n\t  shadow: false, // Whether to render a shadow\n\t  hwaccel: false, // Whether to use hardware acceleration\n\t  className: 'spinner', // The CSS class to assign to the spinner\n\t  zIndex: 2e9, // The z-index (defaults to 2000000000)\n\t  top: 'auto', // Top position relative to parent in px\n\t  left: 'auto' // Left position relative to parent in px\n\t};\n\tvar target = document.getElementById('spinner');\n\tvar spinner = new Spinner(opts).spin(target);\n}\n\n\nrequire('jQueryCreditCardValidator');\n\nwindow.ANW = {\n\tUI: {\n\t\tPin: require('views/anw.ui.pin'),\n\t\tStep: require('views/anw.ui.step')\n\t}\n};\n\nwindow.showNetworkWallet = function showNetworkWallet() {\n\t$('body > .overlay').show();\n\tsetTimeout(function () {\n\t\t$('body').addClass('triggered');\n\t}, 0);\n}\n\nwindow.hideNetworkWallet = function hideNetworkWallet() {\n\t$('body').removeClass('triggered');\n\tsetTimeout(function () {\n\t\t$('body > .overlay').hide();\n\t}, 640);\n}\n\nwindow.templates = {};\nwindow.goToPage = function goToPage(page, step) {\n\tif (!window.templates[page]) {\n\t\tvar template = require('./views/templates/' + page);\n\t\tvar $content = $(template());\n\t} else {\n\t\t$content = window.templates[page];\n\t}\n\n\tvar container = $('body .container');\n\n\tif (window.currentPage) {\n\t\tcontainer.addClass('transition');\n\t\twindow.templates[window.currentPage] = container.contents().clone();\n\t}\n\n\tsetTimeout(function () {\n\t\t$(window).scrollTop(0);\n\n\t\tif (step) {\n\t\t\t$('.step.active', $content).removeClass('active');\n\t\t\t$('.step.' + step, $content).addClass('active');\n\t\t}\n\n\t\tcontainer.html($content);\n\t\t$('body').removeClass(window.currentPage).addClass(page);\n\t\twindow.currentPage = page;\n\t\tsetTimeout(function () {\n\t\t\tinitializers[page]();\n\t\t\tcontainer.removeClass('transition');\n\t\t},0)\n\t}, 320);\n}\n\nfunction capitaliseFirstLetter(string)\n{\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n$(function() {\n\tvar url = location.href;\n\tif (url.substr(-1) == '/') {\n\t\turl = url.substr(0, url.length - 1);\n\t}\n\tvar parts = url.split('/');\n\tvar currentPart = parts.pop();\n\tvar templatePart = 'home';\n\tif ( currentPart === 'register') {\n\t\ttemplatePart = 'register';\n\t} else if (currentPart === 'completed') {\n\t\ttemplatePart = 'completed';\n\t}\n\twindow.goToPage(templatePart);\n});\n\n$(function () {\n\tFastClick.attach(document.body);\n\n\t$('.container .header .back').on('click', function (e) {\n\t\te.preventDefault();\n\t\thideNetworkWallet();\n\t\treturn false;\n\t});\n})\n","// Generated by CoffeeScript 1.4.0\n\n/*\njQuery Credit Card Validator\n\nCopyright 2012 Pawel Decowski\n\nThis work is licensed under the Creative Commons Attribution-ShareAlike 3.0\nUnported License. To view a copy of this license, visit:\n\nhttp://creativecommons.org/licenses/by-sa/3.0/\n\nor send a letter to:\n\nCreative Commons, 444 Castro Street, Suite 900,\nMountain View, California, 94041, USA.\n*/\n\n\n(function() {\n  var $,\n    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  $ = jQuery;\n\n  $.fn.validateCreditCard = function(callback, options) {\n    var card, card_type, card_types, get_card_type, is_valid_length, is_valid_luhn, normalize, validate, validate_number, _i, _len, _ref, _ref1;\n    card_types = [\n      {\n        name: 'amex',\n        pattern: /^3[47]/,\n        valid_length: [15]\n      }, {\n        name: 'diners_club_carte_blanche',\n        pattern: /^30[0-5]/,\n        valid_length: [14]\n      }, {\n        name: 'diners_club_international',\n        pattern: /^36/,\n        valid_length: [14]\n      }, {\n        name: 'jcb',\n        pattern: /^35(2[89]|[3-8][0-9])/,\n        valid_length: [16]\n      }, {\n        name: 'laser',\n        pattern: /^(6304|670[69]|6771)/,\n        valid_length: [16, 17, 18, 19]\n      }, {\n        name: 'visa_electron',\n        pattern: /^(4026|417500|4508|4844|491(3|7))/,\n        valid_length: [16]\n      }, {\n        name: 'visa',\n        pattern: /^4/,\n        valid_length: [16]\n      }, {\n        name: 'mastercard',\n        pattern: /^5[1-5]/,\n        valid_length: [16]\n      }, {\n        name: 'maestro',\n        pattern: /^(5018|5020|5038|6304|6759|676[1-3])/,\n        valid_length: [12, 13, 14, 15, 16, 17, 18, 19]\n      }, {\n        name: 'discover',\n        pattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n        valid_length: [16]\n      }\n    ];\n    if (options == null) {\n      options = {};\n    }\n    if ((_ref = options.accept) == null) {\n      options.accept = (function() {\n        var _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = card_types.length; _i < _len; _i++) {\n          card = card_types[_i];\n          _results.push(card.name);\n        }\n        return _results;\n      })();\n    }\n    _ref1 = options.accept;\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      card_type = _ref1[_i];\n      if (__indexOf.call((function() {\n        var _j, _len1, _results;\n        _results = [];\n        for (_j = 0, _len1 = card_types.length; _j < _len1; _j++) {\n          card = card_types[_j];\n          _results.push(card.name);\n        }\n        return _results;\n      })(), card_type) < 0) {\n        throw \"Credit card type '\" + card_type + \"' is not supported\";\n      }\n    }\n    get_card_type = function(number) {\n      var _j, _len1, _ref2;\n      _ref2 = (function() {\n        var _k, _len1, _ref2, _results;\n        _results = [];\n        for (_k = 0, _len1 = card_types.length; _k < _len1; _k++) {\n          card = card_types[_k];\n          if (_ref2 = card.name, __indexOf.call(options.accept, _ref2) >= 0) {\n            _results.push(card);\n          }\n        }\n        return _results;\n      })();\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n        card_type = _ref2[_j];\n        if (number.match(card_type.pattern)) {\n          return card_type;\n        }\n      }\n      return null;\n    };\n    is_valid_luhn = function(number) {\n      var digit, n, sum, _j, _len1, _ref2;\n      sum = 0;\n      _ref2 = number.split('').reverse();\n      for (n = _j = 0, _len1 = _ref2.length; _j < _len1; n = ++_j) {\n        digit = _ref2[n];\n        digit = +digit;\n        if (n % 2) {\n          digit *= 2;\n          if (digit < 10) {\n            sum += digit;\n          } else {\n            sum += digit - 9;\n          }\n        } else {\n          sum += digit;\n        }\n      }\n      return sum % 10 === 0;\n    };\n    is_valid_length = function(number, card_type) {\n      var _ref2;\n      return _ref2 = number.length, __indexOf.call(card_type.valid_length, _ref2) >= 0;\n    };\n    validate_number = function(number) {\n      var length_valid, luhn_valid;\n      card_type = get_card_type(number);\n      luhn_valid = false;\n      length_valid = false;\n      if (card_type != null) {\n        luhn_valid = is_valid_luhn(number);\n        length_valid = is_valid_length(number, card_type);\n      }\n      return callback({\n        card_type: card_type,\n        luhn_valid: luhn_valid,\n        length_valid: length_valid\n      });\n    };\n    validate = function() {\n      var number;\n      number = normalize($(this).val());\n      return validate_number(number);\n    };\n    normalize = function(number) {\n      return number.replace(/[ -]/g, '');\n    };\n    this.bind('input', function() {\n      $(this).unbind('keyup');\n      return validate.call(this);\n    });\n    this.bind('keyup', function() {\n      return validate.call(this);\n    });\n    if (this.length !== 0) {\n      validate.call(this);\n    }\n    return this;\n  };\n\n}).call(this);\n","var application = require('application')\n\nmodule.exports = Backbone.Router.extend({\n    routes: {\n        'register/': 'register',\n        'anw/prototype/register/': 'register',\n        '*page': 'home'\n    },\n    \n    home: function() {\n        $('body').html(application.homeView.render().el)\n    },\n    \n    register: function() {\n        $('body').html(application.registerView.render().el)\n    }\n})\n","// Put handlebars.js helpers here\n","// Base class for all collections\nmodule.exports = Backbone.Collection.extend({\n    \n})\n","// Base class for all models\nmodule.exports = Backbone.Model.extend({\n    \n})\n","var defaultOptions=  {\n\tonComplete: function () {}\n}\n\nfunction Pin($el, options) {\n\tthis.$el = $el;\n\tthis.options = $.extend(true, {}, defaultOptions, options);\n\n\tthis.init();\n}\n\nPin.prototype.init = function init() {\n\tvar self = this;\n\tthis.update();\n\n\t$('.pwd-pin', this.$el).on('keyup focus', function () {\n\t\tvar $this = $(this);\n\t\tvar len = $this.val().length;\n\n\t\tvar pins = $('.pin', self.$el).removeClass('focus filled');\n\t\tpins.eq(len).addClass('focus');\n\t\tpins.slice(0, len).addClass('filled');\n\n\t\tif (len === 4) {\n\t\t\t$this.blur();\n\t\t\tself.options.onComplete();\n\t\t}\n\t}).on('blur', function () {\n\t\t$('.pin', self.$el).removeClass('focus')\n\t});\n\n\n\t$(window).resize(function () {\n\t\tself.update();\n\t});\n};\n\nPin.prototype.update = function update() {\n\tvar $pins = $('> div', this.$el);\n\n\tvar w = this.$el.width() - 30;\n\tvar pinW = Math.round(w/4);\n\tvar lastPinW = pinW + (w - pinW*4);\n\t$pins.width(pinW);\n\t$pins.eq(3).width(lastPinW);\n\n\tconsole.log(w, pinW, lastPinW);\n}\n\nmodule.exports = Pin;","var defaultOptions=  {\n\tonConfirm: function () {},\n\tonBack: function () {},\n\tonClickEdit: function () {},\n\tonActivate: function () {}\n}\n\nfunction Step($el, options) {\n\tthis.$el = $el;\n\tthis.options = $.extend(true, {}, defaultOptions, options);\n\n\tthis.init();\n};\n\nStep.prototype.init = function init() {\n\tthis.form = $('form', this.$el).parsley({showErrors:false});\n\tthis.btnConfirm = $('.button.confirm', this.$el);\n\tthis.btnBack = $('.button.go-back', this.$el);\n\tthis.btnEdit = $('.edit', this.$el);\n\tthis.bindEvents();\n};\n\nStep.prototype.validate = function validate() {\n\tconsole.log('validate');\n\tif (this.form.isValid()) {\n\t\tthis.$el.addClass('filled');\n\t\tthis.btnConfirm.removeClass('disabled');\n\t} else {\n\t\tthis.$el.removeClass('filled');\n\t\tthis.btnConfirm.addClass('disabled');\n\t}\n};\n\nStep.prototype.activate = function activate() {\n\tthis.options.onActivate(this);\n\tthis.$el.addClass('active');\n};\n\nStep.prototype.deactivate = function deactivate() { this.$el.removeClass('active'); };\n\nStep.prototype.bindEvents = function bindEvents() {\n\tvar self = this;\n\n\t$('input', this.$el).on('keyup change', function () {\n\t\tsetTimeout(function () {\n\t\t\tself.validate();\n\t\t}, 100);\n\t});\n\n\tthis.btnConfirm.on('click', function () {\n\t\tvar $this = $(this);\n\t\tif (!$this.hasClass('disabled')) {\n\t\t\tself.deactivate();\n\t\t\tsetTimeout(function () {\n\t\t\t\tself.options.onConfirm();\n\t\t\t}, 640)\n\t\t}\n\t});\n\n\tthis.btnBack.on('click', function () {\n\t\tself.deactivate();\n\t\tsetTimeout(function () {\n\t\t\tself.options.onBack();\n\t\t}, 640)\n\t});\n\n\tthis.btnEdit.on('click', function () {\n\t\tself.options.onClickEdit(self);\n\t})\n};\n\nmodule.exports = Step;","var View     = require('./view')\n  , template = require('./templates/home')\n\nmodule.exports = View.extend({\n    id: 'home-view',\n    template: template\n})\n","var View     = require('./view')\n  , template = require('./templates/register')\n\nmodule.exports = View.extend({\n    id: 'register-view',\n    template: template\n})\n","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<script>\\n\\n</script>\\n\\n<div class=\\\"header register\\\">\\n\t<a href=\\\"\\\" class=\\\"back\\\"></a>\\n\t<span class=\\\"total\\\">£130.00</span>\\n</div>\\n\\n<div class=\\\"logo\\\"></div>\\n\\n<div class=\\\"wrapper\\\">\\n\\n<div class=\\\"content page-completed\\\">\\n\t<p class=\\\"thank-you\\\">Thanks, Rachel.<br />You're ready to pay with Network Wallet.</p>\\n\t<div class=\\\"payment-type\\\">\\n\t\t<div class=\\\"header\\\"><h2>Payment type:</h2></div>\\n\t\t<div class=\\\"credit-card\\\"><span>**** **** **** 3456</span></div>\\n\t\t<a href=\\\"\\\" class=\\\"edit-card\\\">Edit</a>\\n\t</div>\\n\\n\t<div class=\\\"shipping-to\\\">\\n\t\t<div class=\\\"header\\\"><h2>Shipping to:</h2></div>\\n\t\t<div class=\\\"address\\\">\\n\t\t\t<p>445 Mount End Road<br />Mount Eden<br />Auckland<br />5022</p>\\n\t\t\t<a href=\\\"\\\" class=\\\"edit-address\\\">Edit</a>\\n\t\t</div>\t\t\\n\t</div>\\n\\n\t<p class=\\\"you-re-about\\\">You are about to return to John Lewis to pay £130.00.</p>\\n\\n\t<a href=\\\"\\\" class=\\\"button return\\\">Confirm and Pay Merchant</a>\\n</div>\\n\\n<div class=\\\"footer\\\">\\n\t<a href=\\\"\\\" class=\\\"terms-of-service\\\">Terms of Service</a>\\n\t<a href=\\\"\\\" class=\\\"privacy-statement\\\">Privacy Statement</a>\\n\t<a href=\\\"\\\" class=\\\"faq\\\">FAQ</a>\\n\t<p>All users of our services to Privacy Statement and agree to bound by Terms of Service. \\n\t<br />Please review.<br />&copy; 2014 American Express Company.<br />All rights reserved.</p>\\n</div>\\n\\n</div>\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<script>\\n\\n\\n\\n</script>\\n\\n<div class=\\\"header\\\">\\n\t<a href=\\\"\\\" class=\\\"back\\\"></a>\\n\t<span class=\\\"total\\\">£130.00</span>\\n</div>\\n\\n<div class='carousel' id=\\\"carousel\\\">\\n  <div class='carousel-wrap'>\\n    <div class=\\\"slide slide-1\\\">\\n    \t<div><h3>Network Wallet</h3>\\n    \t<p>A faster way to shop online</p></div>\\n    </div>\\n    <div class=\\\"slide slide-2\\\">\\n    \t<div><h3>Check out faster.</h3>\\n    \t<p>Save tie by pre-populating your details - <br />just review and confirm.</p></div>\\n    </div>\\n    <div class=\\\"slide slide-3\\\">\\n    \t<div><h3>Save your information.</h3>\\n    \t<p>Store different cards and shipping address when shopping.</p></div>\\n    </div>\\n    <div class=\\\"slide slide-4\\\">\\n    \t<div><h3>Enjoy peace of mind.</h3>\\n    \t<p>Your financial and personal information will be secure with American Express.</p></div>\\n    </div>\\n  </div>\\n\t<div class=\\\"carousel-navigation\\\">\\n\t    <ul>\\n\t    <li class=\\\"active\\\"></li>\\n\t    <li></li>\\n\t    <li></li>\\n\t    <li></li>\\n\t    </ul>\\n\t</div>\\n</div>\\n\\n<div class=\\\"wrapper\\\">\\n<div class=\\\"content page-login\\\">\\n\t<a href=\\\"\\\" class=\\\"button register\\\">Register with Network Wallet</a>\\n\t<div class=\\\"divider\\\"><span>or</span></div>\\n\t<div class=\\\"form sign-in\\\">\\n\t\t<h2>Sign in</h2>\\n\t\t<form action=\\\"\\\">\\n\t\t\t<label for=\\\"email\\\">Email address</label>\\n\t\t\t<input type=\\\"text\\\" class=\\\"email\\\" id=\\\"email\\\" />\\n\t\t\t<label for=\\\"pin\\\">Password</label>\\n\t\t\t<input type=\\\"text\\\" class=\\\"password\\\" />\\n\t\t</form>\\n\t</div>\\n\t<div class=\\\"remember-me-container\\\">\\n\t\t<input type=\\\"checkbox\\\" name=\\\"remember-me\\\" id=\\\"remember-me\\\">\\n\t\t<label for=\\\"remember-me\\\" class=\\\"checkbox-style\\\"></label>\\n\t\t<label for=\\\"remember-me\\\">Remember me</a></label>\t\t\\n\t</div>\\n\t<a href=\\\"\\\" class=\\\"button sign-in\\\">Sign in</a>\\n\t<a href=\\\"#\\\" class=\\\"forgot-details\\\">Forgot your details?</a>\\n</div>\\n\\n<div class=\\\"footer\\\">\\n\t<a href=\\\"\\\" class=\\\"terms-of-service\\\">Terms of Service</a>\\n\t<a href=\\\"\\\" class=\\\"privacy-statement\\\">Privacy Statement</a>\\n\t<a href=\\\"\\\" class=\\\"faq\\\">FAQ</a>\\n\t<p>All users of our services to Privacy Statement and agree to bound by Terms of Service. \\n\t<br />Please review.<br />&copy; 2014 American Express Company.<br />All rights reserved.</p>\\n</div>\t\\n\t\\n</div>\\n\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<script>\\n\\n</script>\\n\\n<div class=\\\"header register\\\">\\n\t<a href=\\\"\\\" class=\\\"back\\\"></a>\\n\t<span class=\\\"total\\\">£130.00</span>\\n</div>\\n\\n<div class=\\\"logo\\\"></div>\\n\\n\\n<div class=\\\"wrapper\\\">\\n\\n<div class=\\\"content page-register\\\">\\n\t<div class=\\\"step new-account active\\\">\\n\t\t<div class=\\\"step-header\\\">\\n\t\t\t<div class=\\\"empty\\\"><h2>Create new wallet</h2></div>\\n\t\t\t<div class=\\\"filled\\\"><h2>r****@gmail.com</h2><span class=\\\"edit\\\">Edit</span></div>\\n\t\t</div>\\n\t\t\\n\t\t<div class=\\\"form register\\\">\\n\t\t\t<p>Please enter email address and create a password. This will be how you log in to your Network Wallet.</p>\\n\t\t\t<form action=\\\"\\\" data-parsley-ui-enabled=\\\"false\\\">\\n\t\t\t\t<fieldset><label for=\\\"email\\\">Enter email address</label>\\n\t\t\t\t<input type=\\\"email\\\" class=\\\"email\\\" id=\\\"email\\\" required></fieldset>\\n\t\t\t\t<fieldset><label for=\\\"confirm-email\\\">Confirm email address</label>\\n\t\t\t\t<input type=\\\"email\\\" class=\\\"confirm-email\\\" id=\\\"confirm-email\\\" required></fieldset>\\n\\n\t\t\t\t<fieldset>\\n\t\t\t\t\t<label for=\\\"create-password\\\">Create password</label>\\n\t\t\t\t\t<p class=\\\"password-info\\\">\\n\t\t\t\t\t\tYour password: <span class=\\\"validation different-from-email\\\">must be different than your email address</span>, <span class=\\\"validation characters-length\\\">must contain 8 to 20 characters</span>, <span class=\\\"validation letter-number\\\">including one letter and number</span>, and <span class=\\\"validation no-spaces\\\">not contain any spaces</span>.\\n\t\t\t\t\t</p>\\n\t\t\t\t\t<input type=\\\"password\\\" class=\\\"create-password\\\" id=\\\"create-password\\\" required>\\n\t\t\t\t</fieldset>\\n\t\t\t\t<fieldset>\\n\t\t\t\t\t<label for=\\\"confirm-password\\\">Confirm password</label>\\n\t\t\t\t\t<input type=\\\"password\\\" class=\\\"confirm-password\\\" id=\\\"confirm-password\\\" required>\\n\t\t\t\t</fieldset>\\n\\n\t\t\t\t<div class=\\\"privacy-container\\\">\\n\t\t\t\t\t<input type=\\\"checkbox\\\" name=\\\"privacy\\\" value=\\\"privacy\\\"  id=\\\"privacy\\\" required>\\n\t\t\t\t\t<label for=\\\"privacy\\\" class=\\\"checkbox-style\\\"></label>\\n\t\t\t\t\t<label for=\\\"privacy\\\">Check here to confirm your review and acceptiance of our <a>Terms of Use</a></label>\t\\n\t\t\t\t</div>\\n\t\t\t\t\\n\t\t\t\t<div class=\\\"agreement-container\\\">\\n\t\t\t\t\t<input type=\\\"checkbox\\\" name=\\\"agreement\\\" value=\\\"agreement\\\" id=\\\"agreement\\\" required>\\n\t\t\t\t\t<label for=\\\"agreement\\\" class=\\\"checkbox-style\\\"></label>\\n\t\t\t\t\t<label for=\\\"agreement\\\">You signify you gave reviewed and agreed to the <a>American Express User Agreement</a></label>\\n\t\t\t\t</div>\\n\t\t\t\t\\n\t\t\t\t<div class=\\\"button-container\\\">\\n\t\t\t\t\t<div class=\\\"button confirm disabled\\\"><span class=\\\"long-label\\\">Next</span><span class=\\\"short-label\\\">Next</span></div>\\n\t\t\t\t\t<div class=\\\"button go-back secondary\\\"><span class=\\\"long-label\\\">Back</span><span class=\\\"short-label\\\">Back</span></div>\t\t\\n\t\t\t\t</div>\\n\\n\t\t\t</form>\\n\t\t</div>\\n\t</div><div class=\\\"step link-to-card\\\">\\n\t\t<div class=\\\"step-header\\\">\\n\t\t\t<div class=\\\"empty\\\"><h2>Add card to wallet</h2></div>\\n\t\t\t<div class=\\\"filled\\\"><h2>**** 3456</h2><span class=\\\"cc-icon\\\"></span><span class=\\\"edit\\\">Edit</span></div>\\n\t\t</div>\\n\t\t\\n\t\t<div class=\\\"form\\\">\\n\t\t\t<form>\\n\t\t\t<fieldset><label for=\\\"card-name\\\">Name on card</label>\\n\t\t\t<input type=\\\"text\\\" class=\\\"card-name\\\" id=\\\"card-name\\\" placeholder=\\\"First Last\\\" required></fieldset>\\n\t\t\t<fieldset class=\\\"credit-card-container\\\"><label for=\\\"card-number\\\">Card number</label>\\n\t\t\t<input type=\\\"text\\\" class=\\\"card-number\\\" id=\\\"card-number\\\" placeholder=\\\"Enter digits\\\" pattern=\\\"[0-9]*\\\" maxlength=\\\"16\\\" required>\\n\t\t\t<span class=\\\"cc-icon\\\"></span>\\n\t\t\t</fieldset>\\n\t\t\t<div class=\\\"expiry-security-container\\\">\\n\t\t\t\t<div class=\\\"expiry-date-container\\\">\\n\t\t\t\t<label for=\\\"expiry-date\\\">Expiry date</label>\\n\t\t\t\t<input type=\\\"text\\\" class=\\\"expiry-date\\\" id=\\\"expiry-date\\\" placeholder=\\\"MM / DD\\\" pattern='[0-9]*' required>\\n\t\t\t\t</div>\\n\t\t\t\t<div class=\\\"security-code-container\\\">\\n\t\t\t\t\t<label for=\\\"security-code\\\">Security code</label><a href=\\\"\\\" tabindex=\\\"-1\\\" class=\\\"security-code-info\\\"><img src=\\\"images/tooltip_cards.png\\\" /></a>\\n\t\t\t\t\t\\n\t\t\t\t\t<input type=\\\"text\\\" class=\\\"security-code\\\" id=\\\"security-code\\\" placeholder=\\\"3 or 4 digits\\\" pattern=\\\"[0-9]*\\\"  maxlength=\\\"4\\\" required>\\n\t\t\t\t</div>\t\t\t\t\\n\t\t\t</div>\\n\\n\\n\\n\t\t\t<div class=\\\"button-container\\\">\\n\t\t\t\t<div class=\\\"button confirm disabled\\\"><span class=\\\"long-label\\\">Next</span><span class=\\\"short-label\\\">Next</span></div>\\n\t\t\t\t<div class=\\\"button go-back secondary\\\"><span class=\\\"long-label\\\">Back</span><span class=\\\"short-label\\\">Back</span></div>\t\t\\n\t\t\t</div>\\n\t\t\t</form>\\n\t\t</div>\\n\t</div><div class=\\\"step add-billing-details\\\">\\n\t\t<div class=\\\"step-header\\\">\\n\t\t\t<div class=\\\"empty\\\"><h2>Add billing details</h2></div>\\n\t\t\t<div class=\\\"filled\\\"><h2>445 Mount Edan Road, Mount Eden, Auckland</h2><span class=\\\"edit\\\">Edit</span></div>\\n\t\t</div>\\n\\n\t\t<div class=\\\"form\\\">\\n\t\t\t<p>\\n\t\t\t\tThis billing address must be the same as the one on file with the bank that issued your card.\\n\t\t\t</p>\\n\t\t\t<form>\\n\t\t\t<fieldset><label for=\\\"country\\\">Country</label>\\n\t\t\t<input type=\\\"text\\\" class=\\\"country\\\" id=\\\"country\\\" required></fieldset>\\n\\n\t\t\t<div class=\\\"address-container\\\">\\n\t\t\t\t<fieldset><label for=\\\"address-1\\\">Address line 1</label>\\n\t\t\t\t<input type=\\\"text\\\" class=\\\"address-1\\\" id=\\\"address-1\\\" required></fieldset>\\n\t\t\t\t<fieldset><label for=\\\"address-2\\\">Address line 2 (optional)</label>\\n\t\t\t\t<input type=\\\"text\\\" class=\\\"address-2\\\" id=\\\"address-2\\\"></fieldset>\\n\t\t\t\t<fieldset><label for=\\\"city\\\">City</label>\\n\t\t\t\t<input type=\\\"text\\\" class=\\\"city\\\" id=\\\"city\\\" required></fieldset>\\n\\n\t\t\t\t<div class=\\\"state-postcode-container\\\">\\n\t\t\t\t\t<div class=\\\"state-container\\\">\\n\t\t\t\t\t<label for=\\\"state\\\">State / Region</label>\\n\t\t\t\t\t<input type=\\\"text\\\" class=\\\"state\\\" id=\\\"state\\\" required>\\n\t\t\t\t\t</div>\\n\t\t\t\t\t<div class=\\\"postcode-container\\\">\\n\t\t\t\t\t\t<label for=\\\"postcode\\\">Postcode</label>\\n\t\t\t\t\t\t<input type=\\\"text\\\" class=\\\"postcode\\\" id=\\\"postcode\\\" required>\\n\t\t\t\t\t</div>\t\t\t\\n\t\t\t\t</div>\\n\t\t\t\t\\n\t\t\t</div>\\n\\n\t\t\t<div class=\\\"address-uk-container\\\">\\n\t\t\t\t<fieldset><label for=\\\"postcode-uk\\\">Post code</label>\\n\t\t\t\t<input type=\\\"text\\\" class=\\\"postcode-uk\\\" id=\\\"postcode-uk\\\" ></fieldset>\\n\t\t\t\t<div class=\\\"button postcode-search\\\">Look up</div>\t\t\t\\n\t\t\t</div>\\n\\n\t\t\t\t<div class=\\\"button-container\\\">\\n\t\t\t\t\t<div class=\\\"button confirm disabled\\\"><span class=\\\"long-label\\\">Next</span><span class=\\\"short-label\\\">Next</span></div>\\n\t\t\t\t\t<div class=\\\"button go-back secondary\\\"><span class=\\\"long-label\\\">Back</span><span class=\\\"short-label\\\">Back</span></div>\t\t\\n\t\t\t\t</div>\\n\t\t\t</form>\\n\t\t</div>\\n\t</div><div class=\\\"step add-shipping-details\\\">\\n\t\t<div class=\\\"step-header\\\">\\n\t\t\t<div class=\\\"empty\\\"><h2>Add shipping details</h2></div>\\n\t\t\t<div class=\\\"filled\\\"><h2>445 Mount Edan Road, Mount Eden, Auckland</h2><span class=\\\"edit\\\">Edit</span></div>\\n\t\t</div>\\n\t\t<div class=\\\"form\\\">\\n\t\t\t<form>\\n\t\t\t<div class=\\\"use-billing-container\\\">\\n\t\t\t<input type=\\\"checkbox\\\" name=\\\"use-billing-address\\\" value=\\\"use-billing-address\\\" id=\\\"use-billing-address\\\">\\n\t\t\t<label for=\\\"use-billing-address\\\" class=\\\"checkbox-style\\\"></label>\\n\t\t\t<label for=\\\"use-billing-address\\\">Use my billing address</label>\\n\t\t\t</div>\\n\\n\t\t\t<fieldset><label for=\\\"country\\\">Country</label>\\n\t\t\t<input type=\\\"text\\\" class=\\\"country\\\" id=\\\"country\\\" required></fieldset>\\n\\n\t\t\t<div class=\\\"address-container\\\">\\n\t\t\t\t<fieldset><label for=\\\"address-1\\\">Address line 1</label>\\n\t\t\t\t<input type=\\\"text\\\" class=\\\"address-1\\\" id=\\\"address-1\\\" required></fieldset>\\n\t\t\t\t<fieldset><label for=\\\"address-2\\\">Address line 2 (optional)</label>\\n\t\t\t\t<input type=\\\"text\\\" class=\\\"address-2\\\" id=\\\"address-2\\\"></fieldset>\\n\t\t\t\t<fieldset><label for=\\\"city\\\">City</label>\\n\t\t\t\t<input type=\\\"text\\\" class=\\\"city\\\" id=\\\"city\\\" required></fieldset>\\n\\n\t\t\t\t<div class=\\\"state-postcode-container\\\">\\n\t\t\t\t\t<div class=\\\"state-container\\\">\\n\t\t\t\t\t<label for=\\\"state\\\">State / Region</label>\\n\t\t\t\t\t<input type=\\\"text\\\" class=\\\"state\\\" id=\\\"state\\\" required>\\n\t\t\t\t\t</div>\\n\t\t\t\t\t<div class=\\\"postcode-container\\\">\\n\t\t\t\t\t\t<label for=\\\"postcode\\\">Postcode</label>\\n\t\t\t\t\t\t<input type=\\\"text\\\" class=\\\"postcode\\\" id=\\\"postcode\\\" required>\\n\t\t\t\t\t</div>\t\t\t\\n\t\t\t\t</div>\\n\t\t\t</div>\\n\\n\t\t\t<div class=\\\"address-uk-container\\\">\\n\t\t\t\t<fieldset><label for=\\\"postcode-uk\\\">Post code</label>\\n\t\t\t\t<input type=\\\"text\\\" class=\\\"postcode-uk\\\" id=\\\"postcode-uk\\\" ></fieldset>\\n\t\t\t\t<div class=\\\"button postcode-search\\\">Look up</div>\t\t\t\\n\t\t\t</div>\\n\t\t\t\t<div class=\\\"button-container\\\">\\n\t\t\t\t\t<div class=\\\"button confirm disabled\\\"><span class=\\\"long-label\\\">Confirm</span><span class=\\\"short-label\\\">Next</span></div>\\n\t\t\t\t\t<div class=\\\"button go-back secondary\\\"><span class=\\\"long-label\\\">Back</span><span class=\\\"short-label\\\">Back</span></div>\t\t\\n\t\t\t\t</div>\\n\t\t\t</form>\\n\t\t</div>\\n\t</div>\\n</div>\\n\\n<div class=\\\"footer\\\">\\n\t<a href=\\\"\\\" class=\\\"terms-of-service\\\">Terms of Service</a>\\n\t<a href=\\\"\\\" class=\\\"privacy-statement\\\">Privacy Statement</a>\\n\t<a href=\\\"\\\" class=\\\"faq\\\">FAQ</a>\\n\t<p>All users of our services to Privacy Statement and agree to bound by Terms of Service. \\n\t<br />Please review.<br />&copy; 2014 American Express Company.<br />All rights reserved.</p>\\n</div>\\n\\n</div>\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<script>\\n\\n</script>\\n\\n<div class=\\\"header register\\\">\\n\t<a href=\\\"\\\" class=\\\"back\\\"></a>\\n\t<span class=\\\"total\\\">£130.00</span>\\n</div>\\n\\n<div class=\\\"logo\\\"></div>\\n\\n<div class=\\\"content page-safekey\\\">\\n\t<div class=\\\"safekey-logo\\\"></div>\\n\t<div class=\\\"spinner\\\" id=\\\"spinner\\\"></div>\\n</div>\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","require('lib/view_helper')\n\n// Base class for all views\nmodule.exports = Backbone.View.extend({\n    \n    initialize: function(){\n        this.render = _.bind(this.render, this)\n    },\n    \n    template: function(){},\n    getRenderData: function(){\n        return {\n            baseSrc: '/'\n        }\n    },\n    \n    render: function(){\n        this.$el.html(this.template(this.getRenderData()))\n        this.afterRender()\n        return this\n    },\n    \n    afterRender: function(){}\n    \n})\n"]}